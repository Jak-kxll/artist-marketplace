# FILE: templates/homepage.html
"""
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Art Marketplace</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <header class="site-header">
            <h1>üé® ArtMarket</h1>
            <div class="header-right">
                <form class="search-form" action="/search" method="get">
                    <input type="text" name="q" placeholder="Search artworks..." value="{{ request.args.get('q', '') }}">
                    <button type="submit">Search</button>
                </form>
                <nav class="auth-nav">
                    {% if session.user_id %}
                        <span>Hello, User!</span>
                        <a href="/logout">Logout</a>
                    {% else %}
                        <a href="/login-page">Login</a>
                        <a href="/register-page">Register</a>
                    {% endif %}
                </nav>
            </div>
        </header>

        <div class="sort-links">
            <a href="/?sort=recent" class="{% if sort == 'recent' %}active{% endif %}">Recent</a>
            <a href="/?sort=price_low" class="{% if sort == 'price_low' %}active{% endif %}">Price: Low to High</a>
            <a href="/?sort=price_high" class="{% if sort == 'price_high' %}active{% endif %}">Price: High to Low</a>
        </div>

        {% if posts.items %}
            <div class="masonry">
                {% for post in posts.items %}
                    <article class="card">
                        <div class="card-media">
                            <img src="{{ https://i.pinimg.com/736x/f9/6e/af/f96eafe19e90db2844b939ade3b3166f.jpg }}" alt="{{ post.title }}" onerror="this.src='https://via.placeholder.com/400x300?text=No+Image'">
                        </div>
                        <div class="card-body">
                            <h3 class="card-title">{{ post.title }}</h3>
                            {% if post.price %}
                                <div class="card-price">${{ '%.2f'|format(post.price) }}</div>
                            {% endif %}
                            {% if post.description %}
                                <p class="card-desc">{{ post.description[:120] }}{% if post.description|length > 120 %}...{% endif %}</p>
                            {% endif %}
                        </div>
                        <a href="/profile/{{ post.author.username }}" class="card-author">
                            By {{ post.author.username }}
                        </a>
                    </article>
                {% endfor %}
            </div>

            {% if posts.has_prev or posts.has_next %}
                <div class="pagination">
                    {% if posts.has_prev %}
                        <a href="?page={{ posts.prev_num }}&sort={{ sort }}">‚Üê Previous</a>
                    {% endif %}
                    <span>Page {{ posts.page }} of {{ posts.pages }}</span>
                    {% if posts.has_next %}
                        <a href="?page={{ posts.next_num }}&sort={{ sort }}">Next ‚Üí</a>
                    {% endif %}
                </div>
            {% endif %}
        {% else %}
            <div class="empty-state">
                <h2>No artworks yet</h2>
                <p>Be the first to share your art!</p>
                <p><a href="/seed">Load demo data</a> to see how it works.</p>
            </div>
        {% endif %}
    </div>
</body>
</html>
"""
